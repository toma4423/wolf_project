# ui ディレクトリ

このディレクトリには、ユーザーインターフェース (UI) に関するモジュールが含まれています。Tkinter を使用して GUI を構築しています。

## `__init__.py`

空のファイルで、`ui` ディレクトリを Python パッケージとして認識させるために必要です。

## `entry_point.py`

アプリケーションのエントリーポイントとなるウィンドウ (`EntryPointWindow`) を定義しています。

### `EntryPointWindow` クラス

*   アプリケーション起動時に最初に表示されるウィンドウです。
*   GM モードを開始するためのボタン、プレイヤーモードを開始するためのボタン、アプリケーションを終了するためのボタンを提供します。
*   GM モードが開始されると、`GMMainWindow` を作成します。
*   イベントリスナーとして登録されており、ゲームの状態変化に応じて UI を更新します。

## `gm_mode_main.py`

GM モードのメインウィンドウ (`GMMainWindow`) を定義しています。

### `GMMainWindow` クラス

*   GM モードのメイン画面です。
*   ゲームの開始・終了、各種サブウィンドウ（参加者一覧、レギュレーション設定、ゲーム進行、投票管理、ログ確認）の表示、ゲーム情報の表示などを行います。
*   イベントリスナーとして登録されており、ゲームの状態変化に応じて UI を更新します。
*   GM 用のセリフ (アナウンス) を表示する機能があります。

## `participant_list.py`

参加者一覧ウィンドウ (`ParticipantListWindow`) を定義しています。

### `ParticipantListWindow` クラス

*   参加者の登録、編集、表示を行います。
*   参加者リストと不参加者リストの 2 つのリストビュー (Treeview) を持ち、プレイヤーの移動が可能です。
*   参加者リストの確定機能があり、確定後は参加者の追加・削除・移動ができなくなります。
*   イベントリスナーとして登録されており、プレイヤーの追加・削除・状態変化に応じて UI を更新します。

## `regulation_setting.py`

レギュレーション設定ウィンドウ (`RegulationSettingWindow`) を定義しています。

### `RegulationSettingWindow` クラス

*   ゲームのレギュレーション（役職構成、ラウンド時間など）を設定します。
*   役職の人数を Spinbox で設定できます。
*   ラウンドごとの時間（分）を Spinbox で設定できます。
*   設定したレギュレーションをファイルに保存したり、保存済みのレギュレーションを読み込んだりできます。
*   レギュレーションの確定機能があり、確定後は変更できなくなります。
*   イベントリスナーとして登録されており、レギュレーションの変更に応じて UI を更新します。

## `game_progress.py`

ゲーム進行ウィンドウ (`GameProgressWindow`) を定義しています。

### `GameProgressWindow` クラス

*   ゲームの進行状況（フェーズ、ラウンド、残り時間）を表示します。
*   昼フェーズでは、処刑対象を選択するためのコンボボックスと、処刑を確定するためのボタンを提供します。
*   夜フェーズでは、各役職のアクション対象を選択するためのコンボボックスと、夜のアクションを確定するためのボタンを提供します。
*   イベントリスナーとして登録されており、ゲームの進行状況の変化に応じて UI を更新します。

## `vote_manager.py`

投票管理ウィンドウ (`VoteManagerWindow`) を定義しています。

### `VoteManagerWindow` クラス

*   各プレイヤーの投票状況（投票済み/未投票）を表示します。
*   生存しているプレイヤーのみが表示されます。
*   投票が完了すると、イベント (`EventType.VOTING_COMPLETED`) を発行します。
*   イベントリスナーとして登録されており、プレイヤーの生死状態やフェーズの変化に応じて UI を更新します。

## `log_viewer.py`

ログ確認ウィンドウ (`LogViewerWindow`) を定義しています。

### `LogViewerWindow` クラス

*   ゲーム中に発生したイベントのログを表示します。
*   ログは、`GameState` オブジェクトの `game_log` プロパティから取得されます。
*   ページ送り機能があり、過去のログを遡って確認できます。
*   イベントリスナーとして登録されており、ログの更新やゲーム状態のリセットに応じて UI を更新します。

```

この内容で `ui/README.md` を作成してください。

**補足:**

*   各ファイルの説明は、コード内のコメントやクラス/メソッドの定義から推測される内容に基づいています。
*   今後、UI が変更された場合は、この README.md も更新してください。